<%- include('../layouts/loggedheader'); -%>
<div class="row">
    <div class="col-3">
        <div class="d-flex flex-column"> 
            <%- include('../layouts/sidebar'); -%>
        </div>
    </div>
    <div class="col-6">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Edit Expense</h5>
            </div>
            <div class="card-body">
                <form action="/dashboard/transactions/edit/<%= expense._id %>" method="POST">
                <div class="mb-3">
                    <label for="expense" class="form-label">Expense Name</label>
                    <input type="text" class="form-control" id="expense" name="expense" value="<%= expense.expense %>" required>
                </div>
                
                <div class="mb-3">
                    <label for="amount" class="form-label">Amount</label>
                    <input type="number" step="0.01" class="form-control" id="amount" name="amount" value="<%= expense.amount %>" required>
                </div>
                
                <div class="mb-3">
                    <label for="category" class="form-label">Category</label>
                    <select class="form-select" id="category" name="category" required>
                    <option value="">Select a category</option>
                    <option value="">Select a category</option>
                    <option value="housing" <%= expense.category === 'housing' ? 'selected' : '' %>>Housing</option>
                    <option value="food" <%= expense.category === 'food' ? 'selected' : '' %>>Food</option>
                    <option value="transportation" <%= expense.category === 'transportation' ? 'selected' : '' %>>Transportation</option>
                    <option value="utilities" <%= expense.category === 'utilities' ? 'selected' : '' %>>Utilities</option>
                    <option value="clothing" <%= expense.category === 'clothing' ? 'selected' : '' %>>Clothing</option>
                    <option value="insurance" <%= expense.category === 'insurance' ? 'selected' : '' %>>Insurance</option>
                    <option value="medical" <%= expense.category === 'medical' ? 'selected' : '' %>>Medical</option>
                    <option value="personal" <%= expense.category === 'personal' ? 'selected' : '' %>>Personal</option>
                    <option value="debt" <%= expense.category === 'debt' ? 'selected' : '' %>>Debt</option>
                    <option value="savings" <%= expense.category === 'savings' ? 'selected' : '' %>>Savings</option>
                    <option value="entertainment" <%= expense.category === 'entertainment' ? 'selected' : '' %>>Entertainment</option>
                    <option value="education" <%= expense.category === 'education' ? 'selected' : '' %>>Education</option>
                    <option value="gifts" <%= expense.category === 'gifts' ? 'selected' : '' %>>Gifts</option>
                    <option value="donations" <%= expense.category === 'donations' ? 'selected' : '' %>>Donations</option>
                    <option value="investments" <%= expense.category === 'investments' ? 'selected' : '' %>>Investments</option>
                    <option value="others" <%= expense.category === 'others' ? 'selected' : '' %>>Others</option>
                    </select>
                </div>
                
                <div class="mb-3">
                    <label for="date" class="form-label">Date</label>
                    <input type="date" class="form-control" id="date" name="date" value="<%= new Date(expense.date).toISOString().split('T')[0] %>">
                </div>
                
                <div class="d-flex justify-content-between">
                    <button type="submit" class="btn btn-primary">Update Expense</button>
                    <a href="/dashboard/transactions" class="btn btn-secondary">Cancel</a>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>
<%- include('../layouts/floating-button') %>
<%- include('../layouts/footer'); -%>